---
import { getCollection } from "astro:content";
import BaseLayout from "../layouts/BaseLayout.astro";
import InformationLayout from "../layouts/InformationLayout.astro";
import InfluencerProfileChip from "../components/InfluencerProfileChip.astro";
import { ViewTransitions } from 'astro:transitions';

const allInFluencers = await getCollection("influencer");
const sortedInfluencers = allInFluencers?.sort(
  (a, b) => a?.data?.order - b?.data?.order
);
---

<BaseLayout title="Influencers">
    <ViewTransitions />
  <InformationLayout title="Infleuncers">
    {sortedInfluencers.map((each, index) => <InfluencerProfileChip image_url={each?.data?.image_url} 
    name={each?.data?.name} 
    index={index} 
    id={each?.data?.social_media_handle}/>)}
</InformationLayout>
</BaseLayout>
